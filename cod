# ============================================================
# ARA0066 ‚Äì Paradigmas de Linguagens de Programa√ß√£o em Python
# Trabalho Avaliativo: Sistema de Biblioteca (POO)
# Professor: Fausto Feitosa
# Aluno: Juan Gabriel
# Matr√≠cula: 202502610131
# Vers√£o do Python: 3.11.9
# ============================================================

# ===== Classe Base =====
class Publicacao:
    def __init__(self, titulo: str, autor: str, ano_publicacao: int):
        self.titulo = titulo
        self.autor = autor
        self.ano_publicacao = ano_publicacao

    def exibir_info(self) -> str:
        """Retorna as informa√ß√µes b√°sicas da publica√ß√£o"""
        return f"T√≠tulo: {self.titulo} | Autor: {self.autor} | Ano: {self.ano_publicacao}"


# ===== Subclasse 1 - Livro =====
class Livro(Publicacao):
    def __init__(self, titulo: str, autor: str, ano_publicacao: int, isbn: str):
        super().__init__(titulo, autor, ano_publicacao)
        self.isbn = isbn

    def exibir_info(self) -> str:
        return (f"[LIVRO] T√≠tulo: {self.titulo} | Autor: {self.autor} | "
                f"Ano: {self.ano_publicacao} | ISBN: {self.isbn}")


# ===== Subclasse 2 - Revista =====
class Revista(Publicacao):
    def __init__(self, titulo: str, autor: str, ano_publicacao: int, edicao: int):
        super().__init__(titulo, autor, ano_publicacao)
        self.edicao = edicao

    def exibir_info(self) -> str:
        return (f"[REVISTA] T√≠tulo: {self.titulo} | Autor: {self.autor} | "
                f"Ano: {self.ano_publicacao} | Edi√ß√£o: {self.edicao}")


# ===== Subclasse 3 - Podcast (exemplo livre) =====
class Podcast(Publicacao):
    def __init__(self, titulo: str, autor: str, ano_publicacao: int, duracao_min: int):
        super().__init__(titulo, autor, ano_publicacao)
        self.duracao_min = duracao_min

    def exibir_info(self) -> str:
        return (f"[PODCAST] T√≠tulo: {self.titulo} | Criador: {self.autor} | "
                f"Ano: {self.ano_publicacao} | Dura√ß√£o: {self.duracao_min} min")


# ===== Classe Biblioteca (agrega√ß√£o) =====
class Biblioteca:
    def __init__(self, nome: str):
        self.nome = nome
        self.publicacoes = []  # agrega√ß√£o: lista de objetos Publicacao

    def adicionar_publicacao(self, pub: Publicacao):
        self.publicacoes.append(pub)
        print(f"‚úÖ Publica√ß√£o '{pub.titulo}' adicionada √† biblioteca '{self.nome}'.")

    def remover_publicacao_por_titulo(self, titulo: str):
        for pub in self.publicacoes:
            if pub.titulo.lower() == titulo.lower():
                self.publicacoes.remove(pub)
                print(f"‚ùå Publica√ß√£o '{titulo}' removida da biblioteca.")
                return
        print(f"‚ö†Ô∏è Publica√ß√£o '{titulo}' n√£o encontrada.")

    def listar_publicacoes(self):
        print(f"\nüìö Lista de publica√ß√µes na biblioteca '{self.nome}':")
        for pub in self.publicacoes:
            # polimorfismo: cada classe responde ao mesmo m√©todo de forma diferente
            print(pub.exibir_info())

    def buscar_por_autor(self, autor: str):
        print(f"\nüîé Buscando publica√ß√µes do autor '{autor}':")
        encontrados = [p for p in self.publicacoes if p.autor.lower() == autor.lower()]
        if not encontrados:
            print("Nenhuma publica√ß√£o encontrada.")
        else:
            for pub in encontrados:
                print(pub.exibir_info())


# ===== Demonstra√ß√£o do funcionamento =====
if __name__ == "__main__":
    # Cria√ß√£o das publica√ß√µes
    pub1 = Livro("Python Essencial", "Guido van Rossum", 2020, "978-85-12345-01-2")
    pub2 = Livro("A Arte da Programa√ß√£o", "Donald Knuth", 2015, "978-85-12345-02-9")
    pub3 = Revista("Ci√™ncia Hoje", "Carlos Silva", 2021, 58)
    pub4 = Revista("Tech News", "Ana Souza", 2023, 12)
    pub5 = Podcast("C√≥digo Falado", "Rafa Tech", 2022, 45)
    pub6 = Podcast("Dev Talks", "Jo√£o Pedro", 2021, 60)
    pub7 = Livro("Clean Code", "Robert C. Martin", 2008, "978-85-12345-03-6")
    pub8 = Revista("Games Monthly", "Lucas Lima", 2019, 30)
    pub9 = Livro("Machine Learning", "Andrew Ng", 2018, "978-85-12345-04-3")
    pub10 = Podcast("PythonCast", "Maria Gomes", 2023, 50)

    # Criando a biblioteca
    bib = Biblioteca("Biblioteca Central")

    # Adicionando publica√ß√µes
    for p in [pub1, pub2, pub3, pub4, pub5, pub6, pub7, pub8, pub9, pub10]:
        bib.adicionar_publicacao(p)

    # Listando todas
    bib.listar_publicacoes()

    # Removendo uma publica√ß√£o
    bib.remover_publicacao_por_titulo("Tech News")

    # Listando novamente
    bib.listar_publicacoes()

    # Busca por autor
    bib.buscar_por_autor("Rafa Tech")
